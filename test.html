<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>


	<style>
		body {
			position: relative;
		}
	</style>
	<script>

		class Snowflake {
			constructor() {
				this.snowflake = document.createElement('div')
				this.size = 40 + Math.floor(Math.random() * 61)
				this.positionHor = Math.floor(Math.random() * (window.innerWidth + 1))
				this.positionVert = -100
			}

			createSnowflake() {
				this.snowflake.className = 'snowflake'
				this.snowflake.style.cssText = `
				position: absolute;
				background: url('lesson-19/tasks/img/task7/snowflakes.png') 0 0 / cover no-repeat;
				left: ${this.positionHor}px;
				top: ${this.positionVert}px;
				width: ${this.size}px;
				height: ${this.size}px;
				`
				document.body.append(this.snowflake)
			}

			changeTop() {
				let step = Math.floor(Math.random() * 5) + 1
				let snowflakeTop = parseInt(this.snowflake.style.top)
				snowflakeTop += step
				if (snowflakeTop > window.innerHeight) snowflakeTop = -100
				this.snowflake.style.top = snowflakeTop + 'px'
			}

		}

		function snow() {
			let totalSnowflakes = 0
			let intervalCreate = setInterval(() => {
				let snowflakeObj = new Snowflake()
				snowflakeObj.createSnowflake()
				let intervalAnimation = setInterval(() => snowflakeObj.changeTop(), 10)
				totalSnowflakes++
				if (totalSnowflakes === 30) clearInterval(intervalCreate)
			}, 500)
		}

		window.onload = function () { snow() }
	</script>
</body>

</html>