<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE-edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Lesson #12 Task - 2</title>
</head>

<body style="font-size: 30px">
	<h1>Задача 2</h1>
	<h3>Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів та порівнянь чисел під час сортування
		змішуванням.</h3>

	<hr>
	<style>

	</style>
	<script>

		// Вводимо дані

		const userArray = [-87, 124, -61, 198, 35, 272, -109, 146, -83, 220, 57, 194, -31, 267, 105, 142, 79, 216, -53, 189, -27, 264, -101, 138, -38, 211, 12, 184, -59, 157]
		document.write(`Дано масив із 30 цілих чисел: ${userArray}<br><br>`)
		let changes = 0
		let compares = 0

		// Ф-ція зміни місць

		let swap = (arr, i, j) => {
			let tmp = arr[i]
			arr[i] = arr[j]
			arr[j] = tmp
		}

		// Робимо функцію для сортування масиву за допомогою методу змішування

		function getSortedArray(someArr) {
			let leftIndex = 0
			let rightIndex = someArr.length - 1
			while (leftIndex < rightIndex) {
				let isChange = false
				for (let i = leftIndex + 1; i <= rightIndex; i++) {
					compares++
					if (someArr[i - 1] > someArr[i]) {
						changes++
						swap(someArr, i - 1, i)
						isChange = true
					}
				}
				rightIndex--
				if (!isChange) break
				for (let i = rightIndex; i > leftIndex; i--) {
					compares++
					if (someArr[i - 1] > someArr[i]) {
						changes++
						swap(someArr, i - 1, i)
						isChange = true
					}
				}
				if (!isChange) break
				leftIndex++
			}
			return someArr
		}

		// Виводимо відповідний результат

		document.write(`Відсортований масив має вигляд: ${getSortedArray(userArray)}<br><br> Порівнянь було: ${compares}<br><br>Обмінів було: ${changes}`)
	</script>

</body>

</html>